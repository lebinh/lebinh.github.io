<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='Ghi chÃº láº¡i quÃ¡ trÃ¬nh táº¡o ra má»™t choropleth map cá»§a máº­t Ä‘á»™ dÃ¢n sá»‘ Viá»‡t Nam tá»« hÆ°á»›ng dáº«n Command-Line Cartography cá»§a Mike Bostock. Ghi chÃº nÃ y vá»‘n lÃ  má»™t Jupyter notebook.
Choropleth map lÃ  má»™t dáº¡ng báº£n Ä‘á»“ chuyÃªn Ä‘á» (thematic map) trong Ä‘Ã³ cÃ¡c khu vá»±c Ä‘Æ°á»£c tÃ´ mÃ u hay Ä‘Ã¡nh dáº¥u tÆ°Æ¡ng á»©ng vá»›i má»™t giÃ¡ trá»‹ nÃ o Ä‘Ã³, vÃ­ dá»¥ nhÆ° lÃ  máº­t Ä‘á»™ dÃ¢n sá»‘.'>
<meta name='theme-color' content='#FF4500'>

<meta property='og:title' content='Báº£n Ä‘á»“ máº­t Ä‘á»™ dÃ¢n sá»‘ Viá»‡t Nam â€¢ Hi, this is Binh.'>
<meta property='og:description' content='Ghi chÃº láº¡i quÃ¡ trÃ¬nh táº¡o ra má»™t choropleth map cá»§a máº­t Ä‘á»™ dÃ¢n sá»‘ Viá»‡t Nam tá»« hÆ°á»›ng dáº«n Command-Line Cartography cá»§a Mike Bostock. Ghi chÃº nÃ y vá»‘n lÃ  má»™t Jupyter notebook.
Choropleth map lÃ  má»™t dáº¡ng báº£n Ä‘á»“ chuyÃªn Ä‘á» (thematic map) trong Ä‘Ã³ cÃ¡c khu vá»±c Ä‘Æ°á»£c tÃ´ mÃ u hay Ä‘Ã¡nh dáº¥u tÆ°Æ¡ng á»©ng vá»›i má»™t giÃ¡ trá»‹ nÃ o Ä‘Ã³, vÃ­ dá»¥ nhÆ° lÃ  máº­t Ä‘á»™ dÃ¢n sá»‘.'>
<meta property='og:url' content='https://thisisbinh.me/posts/vietnam-choropleth-map/'>
<meta property='og:site_name' content='Hi, this is Binh.'>
<meta property='og:type' content='article'><meta property='og:image' content='https://thisisbinh.me/vn-population-density.png'><meta property='article:section' content='posts'><meta property='article:published_time' content='2018-10-09T18:56:49&#43;07:00'/><meta property='article:modified_time' content='2018-10-09T18:56:49&#43;07:00'/><meta name='twitter:card' content='summary_large_image'><meta property='twitter:image' content='https://thisisbinh.me/vn-population-density.png'>

<meta name="generator" content="Hugo 0.49" />

  <title>Báº£n Ä‘á»“ máº­t Ä‘á»™ dÃ¢n sá»‘ Viá»‡t Nam â€¢ Hi, this is Binh.</title>
  <link rel='canonical' href='https://thisisbinh.me/posts/vietnam-choropleth-map/'>
  
  
  <link rel='icon' href='/favicon.ico'>
<link rel='stylesheet' href='/assets/css/main.4267b3fa.css'><link rel='stylesheet' href='/css/custom.css'><style>
:root{--color-accent:#FF4500;}
</style>

  

</head>


<body class='page type-posts has-cover'>

  <div class='site'>

    <a class='screen-reader-text' href='#content'>Skip to Content</a>

    <div class='main'>

      <nav id='main-menu' class='menu main-menu' aria-label='Main Menu'>
  <div class='container'>
    
    <ul><li class='item'>
        <a href='/'>Home</a>
      </li></ul>
  </div>
</nav>

      <header id='header' class='header site-header'>
        <div class='container sep-after'>
          <div class='header-info'><p class='site-title title'>Hi, this is Binh.</p><p class='desc site-desc'>He is a Vietnamese living in Sydney, and also an SRE at Google. And this is his notes about random things he made or broke around computers.</p>
          </div>
        </div>
      </header>

      <main id='content'>


<article lang='en' class='entry'>
  <header class='header entry-header'>
  <div class='container sep-after'>
    <div class='header-info'>
      <h1 class='title'>Báº£n Ä‘á»“ máº­t Ä‘á»™ dÃ¢n sá»‘ Viá»‡t Nam</h1>
      

    </div>
    
<div class='entry-meta'>
  <span class='posted-on'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>
<span class='screen-reader-text'>Posted on </span>
  <time class='entry-date' datetime='2018-10-09T18:56:49&#43;07:00'>2018, Oct 09</time>
</span>

  
  
<span class='reading-time'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <circle cx="12" cy="12" r="10"/>
  <polyline points="12 6 12 12 15 15"/>
  
</svg>
15 mins read
</span>


</div>


  </div>
</header>

  <div class='entry-cover'>
  <figure class='container cover-normal'>
    <img src='/vn-population-density.png'/>
    
  </figure>
</div>
  

  <div class='container entry-content'>
  

<p>Ghi chÃº láº¡i quÃ¡ trÃ¬nh táº¡o ra má»™t choropleth map cá»§a máº­t Ä‘á»™ dÃ¢n sá»‘ Viá»‡t Nam tá»« hÆ°á»›ng dáº«n <a href="https://medium.com/@mbostock/command-line-cartography-part-1-897aa8f8ca2c">Command-Line Cartography</a> cá»§a Mike Bostock. Ghi chÃº nÃ y vá»‘n lÃ  <a href="https://github.com/lebinh/vietnam-choropleth-map/blob/master/vietnam-choropleth-map.ipynb">má»™t Jupyter notebook</a>.</p>

<p><strong><a href="https://en.wikipedia.org/wiki/Choropleth_map">Choropleth map</a></strong> lÃ  má»™t dáº¡ng báº£n Ä‘á»“ chuyÃªn Ä‘á» (<a href="https://en.wikipedia.org/wiki/Thematic_map">thematic map</a>) trong Ä‘Ã³ cÃ¡c khu vá»±c Ä‘Æ°á»£c tÃ´ mÃ u hay Ä‘Ã¡nh dáº¥u tÆ°Æ¡ng á»©ng vá»›i má»™t giÃ¡ trá»‹ nÃ o Ä‘Ã³, vÃ­ dá»¥ nhÆ° lÃ  máº­t Ä‘á»™ dÃ¢n sá»‘. Trong báº£n Ä‘á»“ á»Ÿ trÃªn, máº­t Ä‘á»™ dÃ¢n sá»‘ tá»« tháº¥p tá»›i cao Ä‘Æ°á»£c thá»ƒ hiá»‡n báº±ng mÃ u sáº¯c tá»« nháº¡t tá»›i Ä‘áº­m. Choropleth map lÃ  má»™t trong nhá»¯ng dáº¡ng báº£n Ä‘á»“ Ä‘áº¹p nháº¥t mÃ  mÃ¬nh biáº¿t, Ä‘Ã¡ng tiáº¿c lÃ  pháº§n lá»›n vÃ­ dá»¥ hay cÃ´ng cá»¥ táº¡o ra nÃ³ Ä‘á»u chá»§ yáº¿u xoay quanh báº£n Ä‘á»“ cÃ¡c bang hay cÃ¡c quáº­n cá»§a Má»¹. Váº­y nÃªn Ä‘Ã¢y lÃ  má»™t chÃºt cá»‘ gáº¯ng Ä‘á»ƒ viá»‡c táº¡o ra choropleth map vá»›i báº£n Ä‘á»“ Viá»‡t Nam dá»… dÃ ng hÆ¡n.</p>

<h2 id="pháº§n-1-báº£n-Ä‘á»“">Pháº§n 1 - Báº£n Ä‘á»“</h2>

<p><a href="https://medium.com/@mbostock/command-line-cartography-part-1-897aa8f8ca2c">Pháº§n má»™t</a> táº­p trung vÃ o viá»‡c tÃ¬m dá»¯ liá»‡u Ä‘á»‹a giá»›i, bao gá»“m toáº¡ Ä‘á»™ vÃ  hÃ¬nh dáº¡ng cÃ¡c Ä‘Æ°á»ng biÃªn, cá»§a cÃ¡c tá»‰nh thÃ nh Viá»‡t Nam vÃ  chuyá»ƒn nÃ³ sang dáº¡ng dá»¯ liá»‡u phÃ¹ há»£p Ä‘á»ƒ hiá»ƒn thá»‹ trÃªn web.</p>

<p>Trong hÆ°á»›ng dáº«n gá»‘c, Mike sá»­ dá»¥ng dá»¯ liá»‡u mÃ  chÃ­nh phá»§ Má»¹ cung cáº¥p vá» <a href="https://www.census.gov/geo/maps-data/data/tiger-cart-boundary.html">Ä‘á»‹a giá»›i báº£n Ä‘á»“ cÃ¡c bang vÃ  quáº­n cá»§a Má»¹</a>. MÃ¬nh khÃ´ng thá»ƒ tÃ¬m tháº¥y dá»¯ liá»‡u tÆ°Æ¡ng tá»± tá»« nguá»“n chÃ­nh thá»‘ng nÃ o cá»§a chÃ­nh phá»§ Viá»‡t Nam hay cÃ¡c cÆ¡ quan nhÃ  nÆ°á»›c khÃ¡c. Má»™t nguá»“n thay tháº¿ phá»• biáº¿n khÃ¡c lÃ  tá»« project <a href="https://gadm.org/index.htm">GADM</a>, má»¥c tiÃªu cá»§a project nÃ y lÃ  cung cáº¥p báº£n Ä‘á»“ vÃ  dá»¯ liá»‡u Ä‘á»‹a lÃ½ cho táº¥t cáº£ cÃ¡c nÆ°á»›c vÃ  Ä‘á»‹a phÆ°Æ¡ng thuá»™c cÃ¡c nÆ°á»›c Ä‘Ã³, bao gá»“m cáº£ Viá»‡t Nam.</p>

<p>Báº£n Ä‘á»“ cá»§a Viá»‡t Nam tá»« <a href="https://gadm.org/download_country_v3.html">GADM</a>:
<img src="https://s3-us-west-2.amazonaws.com/globaladmin/gadm3.6/png/VNM_adm.png" alt="GADM_vietnam_map" /></p>

<p>Báº£n Ä‘á»“ nÃ y, Ä‘Ã¡ng tiáº¿c, khÃ´ng cÃ³ quáº§n Ä‘áº£o <a href="https://vi.wikipedia.org/wiki/Qu%E1%BA%A7n_%C4%91%E1%BA%A3o_Ho%C3%A0ng_Sa">HoÃ ng Sa</a> vÃ  <a href="https://vi.wikipedia.org/wiki/Qu%E1%BA%A7n_%C4%91%E1%BA%A3o_Tr%C6%B0%E1%BB%9Dng_Sa">TrÆ°á»ng Sa</a>. ChÃºng ta cÃ³ thá»ƒ lÃ m tá»‘t hÆ¡n.</p>

<p>Dá»± Ã¡n <a href="https://vietnam.opendevelopmentmekong.net/vi/">Open Development Viá»‡t Nam</a> Ä‘Ã£ táº­p há»£p vÃ  cÃ´ng bá»‘ miá»…n phÃ­ dá»¯ liá»‡u <a href="https://vietnam.opendevelopmentmekong.net/vi/dataset?id=a-phn-tnh">báº£n Ä‘á»“ cÃ¡c tá»‰nh cá»§a Viá»‡t Nam</a> tá»« cÃ´ng bá»‘ cá»§a bá»™ tÃ i nguyÃªn mÃ´i trÆ°á»ng. Báº£n Ä‘á»“ nÃ y Ä‘Æ°á»£c cung cáº¥p sáºµn dÆ°á»›i dáº¡ng GeoJSON vÃ  cÃ³ Ä‘á»§ cáº£ hai quáº§n Ä‘áº£o nÃ y:</p>

<p><img src="./vn.svg" alt="Open Development Vietnam map" /></p>

<blockquote>
<p>Open Development Viá»‡t Nam lÃ  sÃ n dá»¯ liá»‡u vÃ  kiáº¿n thá»©c tá»•ng há»£p nháº±m chia sáº» thÃ´ng tin vÃ  tÄƒng cÆ°á»ng nháº­n thá»©c cá»™ng Ä‘á»“ng, táº¡o Ä‘iá»u kiá»‡n cho cÃ¡c phÃ¢n tÃ­ch cÃ¡ nhÃ¢n, cÃ¡c cuá»™c tháº£o luáº­n nghiÃªm tÃºc vÃ  cáº£i thiá»‡n Ä‘á»‘i thoáº¡i mang tÃ­nh xÃ¢y dá»±ng vá» xu hÆ°á»›ng phÃ¡t triá»ƒn á»Ÿ Viá»‡t Nam trÃªn cÃ¡c lÄ©nh vá»±c kinh táº¿,  xÃ£ há»™i vÃ   mÃ´i trÆ°á»ng.</p>
</blockquote>

<p>Tuyá»‡t vá»i!</p>

<p>Viá»‡c tiáº¿p theo chá»‰ lÃ  táº£i vá» file GeoJSON Ä‘Ã£ cÃ³ sáºµn, <a href="https://github.com/d3/d3-geo-projection/blob/master/README.md#geoproject">geo-project</a>, vÃ  render thÃ nh SVG tÆ°Æ¡ng tá»± nhÆ° hÆ°á»›ng dáº«n.</p>

<p>TrÆ°á»›c háº¿t, cÃ i Ä‘áº·t cÃ¡c tools cáº§n thiáº¿t tá»« gÃ³i <code>d3-geo-projection</code>.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm install -gs d3-geo-projection</code></pre></div>
<pre><code>[K[?25h/usr/local/bin/geo2svg -&gt; /usr/local/lib/node_modules/d3-geo-projection/bin/geo2svging[0m [35maction:fi[0m[Km[K
/usr/local/bin/geograticule -&gt; /usr/local/lib/node_modules/d3-geo-projection/bin/geograticule
/usr/local/bin/geoproject -&gt; /usr/local/lib/node_modules/d3-geo-projection/bin/geoproject
/usr/local/bin/geostitch -&gt; /usr/local/lib/node_modules/d3-geo-projection/bin/geostitch
[K[?25h+ d3-geo-projection@2.4.1â–‘â–‘â–‘â–‘â–‘[0mâ¸© â ¼ install:d3-geo-projection: [7msill[0m [35mdoSerial[0m install 32[0m[K
added 4 packages from 4 contributors in 2.874s
</code></pre>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl -so vn.json <span style="color:#4e9a06">&#39;https://data.opendevelopmentmekong.net/dataset/999c96d8-fae0-4b82-9a2b-e481f6f50e12/resource/234169fb-ae73-4f23-bbd4-ff20a4fca401/download/diaphantinh.geojson&#39;</span>
geoproject <span style="color:#4e9a06">&#39;d3.geoCylindricalStereographic().fitSize([800, 800], d)&#39;</span> &lt; vn.json &gt; vn-projected.json
geo2svg -w <span style="color:#0000cf;font-weight:bold">800</span> -h <span style="color:#0000cf;font-weight:bold">800</span> &lt; vn-projected.json &gt; vn.svg</code></pre></div>
<p>BÆ°á»›c geoproject cáº§n thiáº¿t Ä‘á»ƒ giáº£m thá»i gian render cá»§a GeoJSON file, Ä‘Ã¢y lÃ  viá»‡c chuyá»ƒn Ä‘á»•i (Ã¡nh xáº¡ / project) tá»« kinh Ä‘á»™ vÃ  vÄ© Ä‘á»™ vá»‘n lÃ  toáº¡ Ä‘á»™ cá»§a trÃ¡i Ä‘áº¥t trong khÃ´ng gian ba chiá»u (3D) ra toáº¡ Ä‘á»™ cá»§a pixel (2D) trÃªn mÃ n hÃ¬nh. <code>CylindricalStereographic</code> Ä‘Æ°á»£c chá»n Ä‘á»ƒ cÃ³ má»™t báº£n Ä‘á»“ Viá»‡t Nam mÃ  chÃºng ta thÆ°á»ng tháº¥y. KÃ­ch thÆ°á»›c cá»§a báº£n Ä‘á»“ Ä‘Æ°á»£c chá»n lÃ  <code>800x800</code> pixels Ä‘á»ƒ nÃ³ cÃ³ thá»ƒ hiá»‡n vá»«a trá»n trong browser trÃªn laptop cá»§a mÃ¬nh. Káº¿t quáº£ lÃ  má»™t báº£n Ä‘á»“ trá»n váº¹n nhÆ° Ä‘Ã£ tháº¥y á»Ÿ trÃªn.</p>

<p>Cáº£m Æ¡n <strong><a href="https://vietnam.opendevelopmentmekong.net/vi/">Open Development Viá»‡t Nam</a></strong>.</p>

<h2 id="pháº§n-2-dá»¯-liá»‡u">Pháº§n 2 - Dá»¯ liá»‡u</h2>

<p><a href="https://medium.com/@mbostock/command-line-cartography-part-2-c3a82c5c0f3">Pháº§n 2</a> táº­p trung vÃ o viá»‡c thu tháº­p vÃ  xá»¯ lÃ½ dá»¯ liá»‡u, Ä‘á»“ng thá»i káº¿t há»£p dá»¯ liá»‡u Ä‘á»‹a giá»›i cá»§a pháº§n trÆ°á»›c vá»›i dá»¯ liá»‡u má»›i.</p>

<p>HÃ£y xem chÃºng ta cÃ³ gÃ¬ trong file GeoJSON cá»§a mÃ¬nh:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jq . vn-projected.json <span style="color:#000;font-weight:bold">|</span> head -n <span style="color:#0000cf;font-weight:bold">20</span></code></pre></div>
<pre><code>{
  &quot;type&quot;: &quot;FeatureCollection&quot;,
  &quot;features&quot;: [
    {
      &quot;type&quot;: &quot;Feature&quot;,
      &quot;properties&quot;: {
        &quot;gid&quot;: 1,
        &quot;code&quot;: &quot;AD01&quot;,
        &quot;ten_tinh&quot;: &quot;An Giang&quot;
      },
      &quot;geometry&quot;: {
        &quot;type&quot;: &quot;Polygon&quot;,
        &quot;coordinates&quot;: [
          [
            [
              188.60218942127176,
              607.7949296298643
            ],
            [
              188.57295149920265,
Error: writing output failed: Broken pipe
</code></pre>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">json</span>

<span style="color:#204a87;font-weight:bold">with</span> <span style="color:#204a87">open</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;vn-projected.json&#39;</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">as</span> <span style="color:#000">f</span><span style="color:#000;font-weight:bold">:</span>
    <span style="color:#000">geo</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">json</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">load</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">f</span><span style="color:#000;font-weight:bold">)</span>
<span style="color:#000">geo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">keys</span><span style="color:#000;font-weight:bold">()</span></code></pre></div>
<pre><code>dict_keys(['type', 'features'])
</code></pre>

<p>NhÃ¬n tá»« Ä‘Ã¢y cÃ³ thá»ƒ tháº¥y GeoJSON Ä‘Æ¡n giáº£n lÃ  1 JSON object lá»›n vá»›i 1 array cá»§a cÃ¡c <code>Feature</code>, má»—i feature tÆ°Æ¡ng á»©ng vá»›i 1 tá»‰nh thÃ nh. ChÃºng ta cÃ³ thá»ƒ gÃ¡n 1 táº­p cÃ¡c thuá»™c tÃ­nh cho má»—i feature, gá»i lÃ  <code>properties</code>, cÅ©ng nhÆ° <code>geometry</code> data cá»§a nÃ³ dÆ°á»›i dáº¡ng 1 polygon.</p>

<pre><code>{
  &quot;type&quot;: &quot;FeatureCollection&quot;,
  &quot;features&quot;: [
    {
      &quot;type&quot;: &quot;Feature&quot;,
      &quot;properties&quot;: { anything ... },
      &quot;geometry&quot;: { polygon def ... }
    },
    ...
  ]
}
</code></pre>

<p>Äáº¿n bÆ°á»›c nÃ y chá»‰ cÃ³ duy nháº¥t tÃªn cÃ¡c tá»‰nh thÃ nh (cÃ¹ng vá»›i má»™t sá»‘ thuá»™c tÃ­nh <code>id</code>, <code>code</code>, khÃ´ng rÃµ rÃ ng) vÃ  toáº¡ Ä‘á»™ Ä‘á»‹a lÃ½ cá»§a chÃºng trong dá»¯ liá»‡u cá»§a mÃ¬nh.</p>

<p>Tiáº¿p theo cáº§n tÃ¬m dá»¯ liá»‡u dÃ¢n sá»‘ cÃ¡c tá»‰nh cá»§a Viá»‡t Nam. Láº§n nÃ y Ä‘Ã¡ng má»«ng lÃ  chÃºng ta cÃ³ thá»ƒ tÃ¬m Ä‘Æ°á»£c dá»¯ liá»‡u nÃ y tá»« nguá»“n chÃ­nh thá»‘ng cá»§a chá»‰nh phá»§ trÃªn website cá»§a <a href="http://www.gso.gov.vn/default.aspx?tabid=714">Tá»•ng cá»¥c thá»‘ng kÃª</a>. Tuy nhiÃªn nguá»“n dá»¯ liá»‡u nÃ y chá»‰ lÃ  má»™t trang web chá»© khÃ´ng pháº£i lÃ   má»™t API Ä‘áº¹p Ä‘áº½ vÃ¬ tháº¿ pháº£i tá»‘n má»™t vÃ i láº§n nháº¥p chuá»™t Ä‘á»ƒ cÃ³ táº£i vá» <a href="https://gist.github.com/lebinh/2b1dfa2925235388be3592fd9b483eb8">file CSV chá»©a máº­t Ä‘á»™ dÃ¢n sá»‘ theo Ä‘á»‹a phÆ°Æ¡ng</a>.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">csv</span>

<span style="color:#000">density</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{}</span>
<span style="color:#204a87;font-weight:bold">with</span> <span style="color:#204a87">open</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;mat-do-dan-so.csv&#39;</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">as</span> <span style="color:#000">f</span><span style="color:#000;font-weight:bold">:</span>
    <span style="color:#000">reader</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">csv</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">reader</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">f</span><span style="color:#000;font-weight:bold">)</span>
    <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000">row</span> <span style="color:#204a87;font-weight:bold">in</span> <span style="color:#000">reader</span><span style="color:#000;font-weight:bold">:</span>
        <span style="color:#8f5902;font-style:italic"># check to skip the header row</span>
        <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#4e9a06">&#39; &#39;</span><span style="color:#000;font-weight:bold">:</span>
            <span style="color:#000">density</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">]]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">float</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">])</span>
<span style="color:#000">density</span></code></pre></div>
<pre><code>{'Cáº¢ NÆ¯á»šC': 280.0,
 'Äá»“ng báº±ng sÃ´ng Há»“ng': 994.0,
 'HÃ  Ná»™i': 2182.0,
 'VÄ©nh PhÃºc': 863.0,
 'Báº¯c Ninh': 1432.0,
 'Quáº£ng Ninh': 198.0,
 'Háº£i DÆ°Æ¡ng': 1070.0,
 'Háº£i PhÃ²ng': 1268.0,
 'HÆ°ng YÃªn': 1258.0,
 'ThÃ¡i BÃ¬nh': 1128.0,
 'HÃ  Nam': 932.0,
 'Nam Äá»‹nh': 1110.0,
 'Ninh BÃ¬nh': 687.0,
 'Trung du vÃ  miá»n nÃºi phÃ­a Báº¯c': 126.0,
 'HÃ  Giang': 103.0,
 'Cao Báº±ng': 79.0,
 'Báº¯c Káº¡n': 66.0,
 'TuyÃªn Quang': 131.0,
 'LÃ o Cai': 108.0,
 'YÃªn BÃ¡i': 116.0,
 'ThÃ¡i NguyÃªn': 348.0,
 'Láº¡ng SÆ¡n': 92.0,
 'Báº¯c Giang': 426.0,
 'PhÃº Thá»': 391.0,
 'Äiá»‡n BiÃªn': 58.0,
 'Lai ChÃ¢u': 48.0,
 'SÆ¡n La': 86.0,
 'HoÃ  BÃ¬nh': 181.0,
 'Báº¯c Trung Bá»™ vÃ  DuyÃªn háº£i miá»n Trung': 207.0,
 'Thanh HoÃ¡': 317.0,
 'Nghá»‡ An': 188.0,
 'HÃ  TÄ©nh': 211.0,
 'Quáº£ng BÃ¬nh': 110.0,
 'Quáº£ng Trá»‹': 135.0,
 'Thá»«a ThiÃªn Huáº¿': 235.0,
 'ÄÃ  Náºµng': 814.0,
 'Quáº£ng Nam': 141.0,
 'Quáº£ng NgÃ£i': 243.0,
 'BÃ¬nh Äá»‹nh': 251.0,
 'PhÃº YÃªn': 179.0,
 'KhÃ¡nh HoÃ ': 236.0,
 'Ninh Thuáº­n': 179.0,
 'BÃ¬nh Thuáº­n': 154.0,
 'TÃ¢y NguyÃªn': 104.0,
 'Kon Tum': 52.0,
 'Gia Lai': 91.0,
 'Äáº¯k Láº¯k': 144.0,
 'Äáº¯k NÃ´ng': 93.0,
 'LÃ¢m Äá»“ng': 132.0,
 'ÄÃ´ng Nam Bá»™': 697.0,
 'BÃ¬nh PhÆ°á»›c': 139.0,
 'TÃ¢y Ninh': 277.0,
 'BÃ¬nh DÆ°Æ¡ng': 741.0,
 'Äá»“ng Nai': 505.0,
 'BÃ  Rá»‹a - VÅ©ng TÃ u': 551.0,
 'TP.Há»“ ChÃ­ Minh': 4025.0,
 'Äá»“ng báº±ng sÃ´ng Cá»­u Long': 433.0,
 'Long An': 332.0,
 'Tiá»n Giang': 693.0,
 'Báº¿n Tre': 528.0,
 'TrÃ  Vinh': 441.0,
 'VÄ©nh Long': 687.0,
 'Äá»“ng ThÃ¡p': 499.0,
 'An Giang': 611.0,
 'KiÃªn Giang': 280.0,
 'Cáº§n ThÆ¡': 874.0,
 'Háº­u Giang': 476.0,
 'SÃ³c TrÄƒng': 396.0,
 'Báº¡c LiÃªu': 332.0,
 'CÃ  Mau': 234.0}
</code></pre>

<p>ChÃºng ta cÅ©ng cáº§n biáº¿t thÃªm dáº£i giÃ¡ trá»‹ (nhá» nháº¥t vÃ  lá»›n nháº¥t) cá»§a dá»¯ liá»‡u nÃ y Ä‘á»ƒ dÃ¹ng vá» sau.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#204a87;font-weight:bold">print</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;min = {}&#39;</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">format</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">min</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">density</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">values</span><span style="color:#000;font-weight:bold">())))</span>
<span style="color:#204a87;font-weight:bold">print</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;max = {}&#39;</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">format</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">max</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">density</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">values</span><span style="color:#000;font-weight:bold">())))</span></code></pre></div>
<pre><code>min = 48.0
max = 4025.0
</code></pre>

<p>Váº¥n Ä‘á» Ä‘áº§u tiÃªn á»Ÿ Ä‘Ã¢y lÃ  chÃºng ta khÃ´ng cÃ³ báº¥t ká»³ <code>id</code> nÃ o Ä‘á»ƒ join dá»¯ liá»‡u, ngoáº¡i trá»« tÃªn cÃ¡c tá»‰nh thÃ nh. Äiá»u nÃ y nhiá»u kháº£ nÄƒng sáº½ dáº«n Ä‘áº¿n viá»‡c khÃ´ng thá»‘ng nháº¥t trong dá»¯ liá»‡u cá»§a cÃ¡c tá»‰nh nhÆ° &ldquo;Báº¯c Káº¡n&rdquo; hay &ldquo;Äáº¯k Láº¯k&rdquo;. HÃ£y xem cÃ³ nhá»¯ng tá»‰nh thÃ nh nÃ o cÃ³ tÃªn ghi khÃ¡c nhau trong hai bá»™ dá»¯ liá»‡u:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#000">geo_provinces</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">set</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">f</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;properties&#39;</span><span style="color:#000;font-weight:bold">][</span><span style="color:#4e9a06">&#39;ten_tinh&#39;</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000">f</span> <span style="color:#204a87;font-weight:bold">in</span> <span style="color:#000">geo</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;features&#39;</span><span style="color:#000;font-weight:bold">])</span>
<span style="color:#000">density_provinces</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">set</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">density</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">keys</span><span style="color:#000;font-weight:bold">())</span>
<span style="color:#000">geo_provinces</span> <span style="color:#ce5c00;font-weight:bold">-</span> <span style="color:#000">density_provinces</span></code></pre></div>
<pre><code>{'BÃ  Rá»‹a -VÅ©ng TÃ u',
 'Cáº§n ThÆ¡n',
 'HÃ²a BÃ¬nh',
 'KhÃ¡nh HÃ²a',
 'Kien Giang',
 'Quáº£n BÃ¬nh',
 'TP. Há»“ ChÃ­ Minh',
 'Thanh HÃ³a',
 'ÄÄƒk LÄƒk',
 'ÄÄƒk NÃ´ng'}
</code></pre>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#000">density_provinces</span> <span style="color:#ce5c00;font-weight:bold">-</span> <span style="color:#000">geo_provinces</span></code></pre></div>
<pre><code>{'BÃ  Rá»‹a - VÅ©ng TÃ u',
 'Báº¯c Trung Bá»™ vÃ  DuyÃªn háº£i miá»n Trung',
 'Cáº¢ NÆ¯á»šC',
 'Cáº§n ThÆ¡',
 'HoÃ  BÃ¬nh',
 'KhÃ¡nh HoÃ ',
 'KiÃªn Giang',
 'Quáº£ng BÃ¬nh',
 'TP.Há»“ ChÃ­ Minh',
 'Thanh HoÃ¡',
 'Trung du vÃ  miá»n nÃºi phÃ­a Báº¯c',
 'TÃ¢y NguyÃªn',
 'ÄÃ´ng Nam Bá»™',
 'Äáº¯k Láº¯k',
 'Äáº¯k NÃ´ng',
 'Äá»“ng báº±ng sÃ´ng Cá»­u Long',
 'Äá»“ng báº±ng sÃ´ng Há»“ng'}
</code></pre>

<p>ÄÃºng nhÆ° dá»± Ä‘oÃ¡n, lá»—i chÃ­nh táº£ vÃ  sá»± khÃ´ng thá»‘ng nháº¥t lÃ  Ä‘áº·c trÆ°ng cá»§a tiáº¿ng Viá»‡t. Máº·c dÃ¹ váº­y cÃ³ thá»ƒ tháº¥y ráº±ng dá»¯ liá»‡u tá»« website cá»§a cá»¥c thá»‘ng kÃª lÃ  chuáº©n xÃ¡c hÆ¡n. HÃ£y sá»­a dá»¯ liá»‡u trong file GeoJSON cá»§a chÃºng ta theo tÃªn chuáº©n nÃ y, Ä‘á»“ng thá»i thÃªm dá»¯ liá»‡u máº­t Ä‘á»™ dÃ¢n sá»‘ vÃ o cÃ¡c thuá»™c tÃ­nh, cÅ©ng nhÆ° bá» Ä‘i nhá»¯ng thuá»™c tÃ­nh khÃ´ng cáº§n thiáº¿t cÃ²n láº¡i:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#000">corrections</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#4e9a06">&#39;BÃ  Rá»‹a -VÅ©ng TÃ u&#39;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;BÃ  Rá»‹a - VÅ©ng TÃ u&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#4e9a06">&#39;Cáº§n ThÆ¡n&#39;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;Cáº§n ThÆ¡&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#4e9a06">&#39;HÃ²a BÃ¬nh&#39;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;HoÃ  BÃ¬nh&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#4e9a06">&#39;KhÃ¡nh HÃ²a&#39;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;KhÃ¡nh HoÃ &#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#4e9a06">&#39;Kien Giang&#39;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;KiÃªn Giang&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#4e9a06">&#39;Quáº£n BÃ¬nh&#39;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;Quáº£ng BÃ¬nh&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#4e9a06">&#39;TP. Há»“ ChÃ­ Minh&#39;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;TP.Há»“ ChÃ­ Minh&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#4e9a06">&#39;Thanh HÃ³a&#39;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;Thanh HoÃ¡&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#4e9a06">&#39;ÄÄƒk LÄƒk&#39;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;Äáº¯k Láº¯k&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#4e9a06">&#39;ÄÄƒk NÃ´ng&#39;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;Äáº¯k NÃ´ng&#39;</span>
<span style="color:#000;font-weight:bold">}</span>

<span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000">feature</span> <span style="color:#204a87;font-weight:bold">in</span> <span style="color:#000">geo</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;features&#39;</span><span style="color:#000;font-weight:bold">]:</span>
    <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">feature</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;properties&#39;</span><span style="color:#000;font-weight:bold">][</span><span style="color:#4e9a06">&#39;ten_tinh&#39;</span><span style="color:#000;font-weight:bold">]</span>
    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">name</span> <span style="color:#204a87;font-weight:bold">in</span> <span style="color:#000">corrections</span><span style="color:#000;font-weight:bold">:</span>
        <span style="color:#8f5902;font-style:italic"># correct province&#39;s name if needed</span>
        <span style="color:#000">feature</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;properties&#39;</span><span style="color:#000;font-weight:bold">][</span><span style="color:#4e9a06">&#39;ten_tinh&#39;</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">corrections</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">name</span><span style="color:#000;font-weight:bold">]</span>
        <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">corrections</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">name</span><span style="color:#000;font-weight:bold">]</span>
    
    <span style="color:#8f5902;font-style:italic"># add density property and remove unused others</span>
    <span style="color:#000">feature</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;properties&#39;</span><span style="color:#000;font-weight:bold">][</span><span style="color:#4e9a06">&#39;density&#39;</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">density</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">name</span><span style="color:#000;font-weight:bold">]</span>
    <span style="color:#204a87;font-weight:bold">del</span> <span style="color:#000">feature</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;properties&#39;</span><span style="color:#000;font-weight:bold">][</span><span style="color:#4e9a06">&#39;gid&#39;</span><span style="color:#000;font-weight:bold">]</span>
    <span style="color:#204a87;font-weight:bold">del</span> <span style="color:#000">feature</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;properties&#39;</span><span style="color:#000;font-weight:bold">][</span><span style="color:#4e9a06">&#39;code&#39;</span><span style="color:#000;font-weight:bold">]</span>

<span style="color:#8f5902;font-style:italic"># and let&#39;s see if we still seeing any differences</span>
<span style="color:#000">geo_provinces</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">set</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">f</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;properties&#39;</span><span style="color:#000;font-weight:bold">][</span><span style="color:#4e9a06">&#39;ten_tinh&#39;</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000">f</span> <span style="color:#204a87;font-weight:bold">in</span> <span style="color:#000">geo</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;features&#39;</span><span style="color:#000;font-weight:bold">])</span>
<span style="color:#000">geo_provinces</span> <span style="color:#ce5c00;font-weight:bold">-</span> <span style="color:#000">density_provinces</span></code></pre></div>
<pre><code>set()
</code></pre>

<p>Empty set nghÄ©a lÃ  hai bá»™ tÃªn tá»‰nh thÃ nh Ä‘Ã£ giá»‘ng nhau, hÃ£y lÆ°u láº¡i dá»¯ liá»‡u nÃ y vÃ o má»™t file má»›i.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#204a87;font-weight:bold">with</span> <span style="color:#204a87">open</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;vn-density.json&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#39;w&#39;</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">as</span> <span style="color:#000">f</span><span style="color:#000;font-weight:bold">:</span>
    <span style="color:#000">json</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">dump</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">geo</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">f</span><span style="color:#000;font-weight:bold">)</span></code></pre></div>
<p>Pháº§n tiáº¿p theo chá»‰ Ä‘Æ¡n giáº£n lÃ  sao chÃ©p vÃ  cháº¡y nhá»¯ng lá»‡nh tá»« <a href="https://medium.com/@mbostock/command-line-cartography-part-2-c3a82c5c0f3">bÃ i hÆ°á»›ng dáº«n</a> cá»§a Mike Bostock. TrÆ°á»›c háº¿t lÃ  split file GeoJSON Ä‘ang cÃ³ thÃ nh file ndjson (Newline Delimited JSON).</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ndjson-split <span style="color:#4e9a06">&#39;d.features&#39;</span> &lt; vn-density.json &gt; vn-density.ndjson</code></pre></div>
<p>Mike Bostock dÃ nh pháº§n lá»›n thá»i gian trong pháº§n 2 cá»§a mÃ¬nh Ä‘á»ƒ giá»›i thiá»‡u vá» NDJSON. NDJSON Ä‘Æ¡n giáº£n lÃ  file gá»“m nhiá»u JSON objects phÃ¢n tÃ¡ch báº±ng dáº¥u xuá»‘ng hÃ ng, cÃ³ nghÄ©a lÃ  má»—i object náº±m trÃªn má»™t hÃ ng. Äiá»u nÃ y giÃºp cho viá»‡c xá»­ lÃ½ trÃªn dÃ²ng lá»‡nh (command line) Ä‘Æ¡n giáº£n hÆ¡n, chá»§ yáº¿u vÃ¬ pháº§n lá»›n cÃ¡c cÃ´ng cá»¥ vÃ  má»i ngÆ°á»i Ä‘á»u Ä‘Ã£ quen vá»›i cÃ¡ch tÆ° duy xá»­ lÃ½ theo tá»«ng dÃ²ng (line oriented). CÃ²n á»Ÿ Ä‘Ã¢y mÃ¬nh chá»§ yáº¿u xÃ i python code Ä‘á»ƒ xá»­ lÃ½ dá»¯ liá»‡u vÃ¬ chá»§ yáº¿u (1) Ä‘Ã£ vÃ  Ä‘ang viáº¿t note nÃ y trong má»™t Jupyter notebook vÃ  (2) lÆ°á»i pháº£i há»c thÃªm má»™t loáº¡t lá»‡nh má»›i Ä‘á»ƒ xá»­ lÃ½ NDJSON nhÆ° trong bÃ i gá»‘c.</p>

<p>Tiáº¿p theo Ä‘Æ¡n giáº£n lÃ  install d3 vÃ  táº¡o mapping tÆ°Æ¡ng á»©ng tá»« máº­t Ä‘á»™ dÃ¢n sá»‘, <code>density</code>, tá»›i mÃ u tÃ´ trÃªn báº£n Ä‘á»“, <code>fill</code>. Domain Ä‘Æ°á»£c chá»n lÃ  <code>[0, 4000]</code> vÃ¬ giÃ¡ trá»‹ lá»›n nháº¥t cá»§a máº­t Ä‘á»™ dÃ¢n sá»‘ lÃ  4025 nhÆ° Ä‘Ã£ tháº¥y á»Ÿ trÃªn.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm install -gs d3</code></pre></div>
<pre><code>[K[?25h+ d3@5.7.027m[90mâ–‘â–‘â–‘â–‘â–‘â–‘[0mâ¸© â ™ build:iconv-lite: [7msill[0m [35mlinkStuff[0m iconv-lite@0.4.24 is in[0m[Km[K
added 36 packages from 4 contributors in 8.243s
</code></pre>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ndjson-map -r d3 <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  <span style="color:#4e9a06">&#39;(d.properties.fill = d3.scaleSequential(d3.interpolateViridis).domain([0, 4000])(d.properties.density), d)&#39;</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  &lt; vn-density.ndjson <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  &gt; vn-color.ndjson</code></pre></div>
<p>Cuá»‘i cÃ¹ng lÃ  render áº£nh SVG tá»« file NDJSON báº±ng <code>geo2svg</code>.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">geo2svg -n --stroke none -p <span style="color:#0000cf;font-weight:bold">1</span> -w <span style="color:#0000cf;font-weight:bold">800</span> -h <span style="color:#0000cf;font-weight:bold">800</span> &lt; vn-color.ndjson &gt; vn-color.svg</code></pre></div>
<p><img src="./vn-color.svg" alt="vn-color.svg" /></p>

<p>Ta da! ğŸ‰</p>

<p>Ãt nháº¥t lÃ  bÃ¢y giá» chÃºng ta Ä‘Ã£ cÃ³ má»™t cÃ¡i gÃ¬ Ä‘Ã³ <em>nhÃ¬n Ä‘Æ°á»£c</em>, giá» hÃ£y lÃ m cho nÃ³ tá»‘t hÆ¡n.</p>

<h2 id="pháº§n-3-tá»‘i-Æ°u-dá»¯-liá»‡u">Pháº§n 3 - Tá»‘i Æ°u dá»¯ liá»‡u</h2>

<p><a href="https://medium.com/@mbostock/command-line-cartography-part-3-1158e4c55a1e">Pháº§n 3</a> táº­p trung vÃ o viá»‡c tá»‘i Æ°u kÃ­ch thÆ°á»›c lÆ°u trá»¯ (vÃ  táº¥t nhiÃªn, truyá»n táº£i) cá»§a dá»¯ liá»‡u báº±ng cÃ¡ch chuyá»ƒn sang TopoJSON.</p>

<p>HÃ£y xem láº¡i kÃ­ch thÆ°á»›c cá»§a file GeoJSON mÃ  chÃºng ta táº¡o ra tá»« pháº§n trÆ°á»›c.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ls -lh vn-density.json</code></pre></div>
<pre><code>-rw-r--r-- 1 binhle staff 3.9M Oct  9 18:29 vn-density.json
</code></pre>

<p><em>3.9 MB</em> khÃ´ng quÃ¡ lá»›n nhÆ°ng cÅ©ng Ä‘á»§ náº·ng Ä‘á»ƒ cá»¥ giÃ  á»Ÿ nÃ´ng thÃ´n tá»« bá» Ã½ Ä‘á»‹nh xem báº£n Ä‘á»“ cá»§a chÃºng ta khi lÆ°á»›t web trÃªn 3G má»©c 1 váº¡ch. ÄÃ¡ng má»«ng cÃ³ nhiá»u cÃ¡ch Ä‘á»ƒ giáº£m kÃ­ch thÆ°á»›c file:</p>

<ul>
<li>Simplify - vÃ­ dá»¥ chÃºng ta cÃ³ thá»ƒ Ä‘Æ¡n giáº£n hoÃ¡ báº£n Ä‘á»“ báº±ng cÃ¡ch <a href="https://bost.ocks.org/mike/simplify/">bá» bá»›t Ä‘iá»ƒm trÃªn Ä‘Æ°á»ng káº»</a></li>
<li>Quantize - hoáº·c chÃºng ta cÃ³ thá»ƒ giáº£m Ä‘á»™ chÃ­nh xÃ¡c cá»§a sá»‘ liá»‡u báº±ng cÃ¡ch bá» bá»›t chá»¯ sá»‘ sau dáº¥u tháº­p phÃ¢n, vd 224.3021507494117 thÃ nh 224.3</li>
<li>Compress - hoáº·c bá» cÃ¡c thÃ nh pháº§n trÃ¹ng láº·p vÃ  nÃ©n nÃ³ láº¡i</li>
</ul>

<p>Tuy nhiÃªn cÃ¡ch tá»‘t nháº¥t Ä‘á»ƒ giáº£m dung lÆ°á»£ng file GeoJSON lÃ  chuyá»ƒn nÃ³ sang dáº¡ng <a href="https://github.com/topojson/topojson">TopoJSON</a>. TopoJSON cÃ³ Ä‘Æ°á»£c kÃ­ch thÆ°á»›c tá»‘i Æ°u hÆ¡n GeoJSON nhá»</p>

<ol>
<li>Thá»ƒ hiá»‡n lines vÃ  polygon báº±ng danh sÃ¡ch cÃ¡c Ä‘Æ°á»ng cong (arcs) thay vÃ¬ danh sÃ¡ch cÃ¡c toáº¡ Ä‘á»™ (coordinates). Äiá»u nÃ y Ä‘áº·c biá»‡t hiá»‡u quáº£ vá»›i báº£n Ä‘á»“ cÃ³ nhiá»u Ä‘Æ°á»ng biÃªn giá»›i giao nhau, vá»‘n lÃ  cÃ¡c Ä‘Æ°á»ng cong giá»‘ng nhau vÃ  nhá» váº­y khÃ´ng cáº§n láº·p láº¡i nhÆ° trong trÆ°á»ng há»£p toáº¡ Ä‘á»™.</li>
<li>Toáº¡ Ä‘á»™ trong TopoJSON cÃ³ thá»ƒ Ä‘Æ°á»£c quantized, cÃ³ nghÄ©a lÃ  thá»ƒ hiá»‡n dÆ°á»›i dáº¡ng Ä‘Æ¡n giáº£n hÆ¡n (integer thay vÃ¬ float) vÃ  delta-encoded Ä‘á»ƒ giáº£m dung lÆ°á»£ng.</li>
</ol>

<p>Äiá»u quan trá»ng nháº¥t lÃ  báº¡n cÃ³ thá»ƒ bá» qua nhá»¯ng chuyá»‡n Ä‘Ã³ (<em>nhÆ° mÃ¬nh</em>) vÃ  sá»­ dá»¥ng cÃ´ng cá»¥ cÃ³ sáºµn Ä‘á»ƒ chuyá»ƒn Ä‘á»•i tá»« file GeoJSON sang file TopoJSON.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm install -gs topojson</code></pre></div>
<pre><code>[K[?25h/usr/local/bin/toposimplify -&gt; /usr/local/lib/node_modules/topojson/node_modules/topojson-simplify/bin/toposimplifyK
/usr/local/bin/topo2geo -&gt; /usr/local/lib/node_modules/topojson/node_modules/topojson-client/bin/topo2geo
/usr/local/bin/topomerge -&gt; /usr/local/lib/node_modules/topojson/node_modules/topojson-client/bin/topomerge
/usr/local/bin/topoquantize -&gt; /usr/local/lib/node_modules/topojson/node_modules/topojson-client/bin/topoquantize
/usr/local/bin/geo2topo -&gt; /usr/local/lib/node_modules/topojson/node_modules/topojson-server/bin/geo2topo
[K[?25h+ topojson@3.0.227m[90mâ–‘â–‘â–‘â–‘â–‘â–‘[0mâ¸© â  install:topojson: [7msill[0m [35mdoSerial[0m install 40[0m[K
added 5 packages from 2 contributors in 3.511s
</code></pre>

<p>Má»™t lá»‡nh Ä‘Æ¡n giáº£n Ä‘á»ƒ chuyá»ƒn file GeoJSON thÃ nh TopoJSON.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">geo2topo -n <span style="color:#000">tracts</span><span style="color:#ce5c00;font-weight:bold">=</span>vn-density.ndjson &gt; vn-tracts-topo.json</code></pre></div>
<p>Tiáº¿p theo lÃ  simplify, tÆ°Æ¡ng tá»± nhÆ° hÆ°á»›ng dáº«n gá»‘c.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">toposimplify -p <span style="color:#0000cf;font-weight:bold">1</span> -f &lt; vn-tracts-topo.json &gt; vn-simple-topo.json</code></pre></div>
<p>VÃ  cuá»‘i cÃ¹ng lÃ  quantize.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">topoquantize 1e5 &lt; vn-simple-topo.json &gt; vn-quantized-topo.json</code></pre></div><div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ls -lh *-topo.json</code></pre></div>
<pre><code>-rw-r--r-- 1 binhle staff  40K Oct  9 18:30 vn-quantized-topo.json
-rw-r--r-- 1 binhle staff 119K Oct  9 18:30 vn-simple-topo.json
-rw-r--r-- 1 binhle staff 2.8M Oct  9 18:30 vn-tracts-topo.json
</code></pre>

<p>Káº¿t quáº£: kÃ­ch thÆ°á»›c file giáº£m Ä‘áº¿n gáº§n 100 láº§n qua cÃ¡c bÆ°á»›c trÃªn, tá»« gáº§n 4MB chá»‰ cÃ²n láº¡i 40KB. Äiá»u nÃ y cá»™ng thÃªm nÃ©n báº±ng <code>gzip</code> khi transfer, má»™t trong nhá»¯ng ká»¹ thuáº­t tá»‘i Æ°u phá»• biáº¿n, cÃ³ thá»ƒ Ä‘em láº¡i kÃ­ch cá»¡ tá»‘i Æ°u (~15KB) Ä‘á»ƒ hiá»ƒn thá»‹ trÃªn web. NhÆ°ng Ä‘á»•i láº¡i nhá»¯ng cÃ¡ch thá»©c nÃ y cÃ³ lÃ m giáº£m Ä‘á»™ chÃ­nh xÃ¡c trong báº£n Ä‘á»“ hay khÃ´ng? HÃ£y so sÃ¡nh báº£n Ä‘á»“ trÆ°á»›c vÃ  sau khi tá»‘i Æ°u báº±ng cÃ¡ch táº¡o ra má»™t áº£nh Ä‘á»™ng tá»« 2 hÃ¬nh.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">topo2geo <span style="color:#000">tracts</span><span style="color:#ce5c00;font-weight:bold">=</span>- &lt; vn-quantized-topo.json <span style="color:#000;font-weight:bold">|</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>    geo2svg -w <span style="color:#0000cf;font-weight:bold">800</span> -h <span style="color:#0000cf;font-weight:bold">800</span> &gt; vn-quantized-topo.svg
convert -delay <span style="color:#0000cf;font-weight:bold">100</span> -loop <span style="color:#0000cf;font-weight:bold">0</span> vn.svg vn-quantized-topo.svg vn-quantized-topo.gif</code></pre></div>
<p><img src="./vn-quantized-topo.gif" alt="vn-quantized-topo.gif" /></p>

<p>LÆ°u Ã½ lÃ  cÃ¡c bÆ°á»›c trÃªn nhÆ° simplify hay quantize cÃ³ thá»ƒ lÃ m máº¥t thÃ´ng tin gá»‘c tuy nhiÃªn cÃ³ thá»ƒ cháº¥p nháº­n Ä‘Æ°á»£c náº¿u sá»­ dá»¥ng há»£p lÃ½. VÃ­ dá»¥ á»Ÿ Ä‘Ã¢y cÃ³ thá»ƒ tháº¥y biÃªn giá»›i cÃ¡c tá»‰nh gáº§n nhÆ° khÃ´ng cÃ³ gÃ¬ thay Ä‘á»•i khi nhÃ¬n báº±ng máº¯t thÆ°á»ng. Äiá»ƒm khÃ¡c biá»‡t lá»›n nháº¥t lÃ  sá»± biáº¿n máº¥t cá»§a cÃ¡c Ä‘áº£o nhá» táº­p trung á»Ÿ khu vá»±c Háº¡ Long, bá» biá»ƒn miá»n Trung, PhÃº Quá»‘c, vÃ  quáº§n Ä‘áº£o TrÆ°á»ng Sa. Tuy nhiÃªn cÃ¡c Ä‘áº£o chÃ­nh vÃ  hÃ¬nh dÃ¡ng quáº§n Ä‘áº£o váº«n Ä‘Æ°á»£c báº£o tá»“n, nhÆ° má»¥c tiÃªu cá»§a chÃºng ta.</p>

<p><strong>Báº£n Ä‘á»“ nÃ y khÃ´ng pháº£i lÃ  báº£n Ä‘á»“ Ä‘á»‹a giá»›i chÃ­nh thá»‘ng nÆ°á»›c Viá»‡t Nam</strong>, nÃ³ chá»‰ lÃ  cÃ´ng cá»¥ cÃ³ tÃ­nh cháº¥t minh hoáº¡ sá»‘ liá»‡u.</p>

<h2 id="pháº§n-4-hoÃ n-thiá»‡n">Pháº§n 4 - HoÃ n thiá»‡n</h2>

<p><a href="https://medium.com/@mbostock/command-line-cartography-part-4-82d0d26df0cf">Pháº§n 4</a> táº­p trung vÃ o viá»‡c hoÃ n thiá»‡n báº£n Ä‘á»“ vá»›i mÃ u sáº¯c thá»ƒ hiá»‡n tá»‘t hÆ¡n dá»¯ liá»‡u nÃ y cÅ©ng nhÆ° má»™t vÃ i yáº¿u tá»‘ tháº©m má»¹ khÃ¡c.</p>

<p>KhÃ´ng cÃ³ nhiá»u sá»± thay Ä‘á»•i hay chá»‰nh sá»­a lá»›n nÃ o cáº§n thiáº¿t so vá»›i hÆ°á»›ng dáº«n gá»‘c trong pháº§n nÃ y. Pháº§n lá»›n cÃ´ng viá»‡c bÃ¢y giá» chá»‰ lÃ  copy &amp; paste.</p>

<p>Báº¯t Ä‘áº§u báº±ng sequential mapping cá»§a dá»¯ liá»‡u tÆ°Æ¡ng tá»± nhÆ° trong pháº§n 2.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">topo2geo <span style="color:#000">tracts</span><span style="color:#ce5c00;font-weight:bold">=</span>- <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  &lt; vn-quantized-topo.json <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  <span style="color:#000;font-weight:bold">|</span> ndjson-map -r d3 <span style="color:#4e9a06">&#39;z = d3.scaleSequential(d3.interpolateViridis).domain([0, 4000]), d.features.forEach(f =&gt; f.properties.fill = z(f.properties.density)), d&#39;</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  <span style="color:#000;font-weight:bold">|</span> ndjson-split <span style="color:#4e9a06">&#39;d.features&#39;</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  <span style="color:#000;font-weight:bold">|</span> geo2svg -n --stroke none -p <span style="color:#0000cf;font-weight:bold">1</span> -w <span style="color:#0000cf;font-weight:bold">800</span> -h <span style="color:#0000cf;font-weight:bold">800</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  &gt; vn-topo-color.svg</code></pre></div>
<p><img src="./vn-topo-color.svg" alt="vn-topo-color.svg" /></p>

<p>Bá»Ÿi vÃ¬ máº­t Ä‘á»“ dÃ¢n sá»‘ lá»›n hÆ¡n háº³n cÃ¡c nÆ¡i cá»§a TP. Há»“ ChÃ­ Minh hay HÃ  Ná»™i, cÃ¡c tá»‰nh thÃ nh khÃ¡c gáº§n nhÆ° cÃ³ mÃ u gáº§n nhau vÃ  khÃ³ phÃ¢n biá»‡t vá»›i dáº£i mÃ u tuáº§n tá»± (linear). TÃ¡c giáº£ Ä‘á» nghá»‹ sá»­ dá»¥ng exponential scale, cá»¥ thá»ƒ lÃ  thang cÄƒn báº­c 2, Ä‘á»ƒ giÃºp giáº£m sá»± phÃ¢n biá»‡t giá»¯a tháº¥p vÃ  cao nÃ y. Nhá» Ä‘Ã³ lÃ m sÃ¡ng hÆ¡n cÃ¡c vÃ¹ng tá»‘i mÃ u vÃ  giÃºp phÃ¢n biá»‡t chÃºng rÃµ hÆ¡n.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">topo2geo <span style="color:#000">tracts</span><span style="color:#ce5c00;font-weight:bold">=</span>- <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  &lt; vn-quantized-topo.json <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  <span style="color:#000;font-weight:bold">|</span> ndjson-map -r d3 <span style="color:#4e9a06">&#39;z = d3.scaleSequential(d3.interpolateViridis).domain([0, 65]), d.features.forEach(f =&gt; f.properties.fill = z(Math.sqrt(f.properties.density))), d&#39;</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  <span style="color:#000;font-weight:bold">|</span> ndjson-split <span style="color:#4e9a06">&#39;d.features&#39;</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  <span style="color:#000;font-weight:bold">|</span> geo2svg -n --stroke none -p <span style="color:#0000cf;font-weight:bold">1</span> -w <span style="color:#0000cf;font-weight:bold">800</span> -h <span style="color:#0000cf;font-weight:bold">800</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  &gt; vn-topo-sqrt.svg</code></pre></div>
<p><img src="./vn-topo-sqrt.svg" alt="vn-topo-sqrt.svg" /></p>

<p>Cuá»‘i cÃ¹ng lÃ  gá»£i Ã½ sá»­ dá»¥ng cÃ¡c ngÆ°á»¡ng giÃ¡ trá»‹ cá»¥ thá»ƒ (thresholds) cá»™ng vá»›i má»™t thang mÃ u rá»i ráº¡c thay vÃ¬ cÃ¡c giÃ¡ trá»‹ liÃªn tá»¥c, sá»­ dá»¥ng <code>d3-scale-chromatic</code>.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm install -gs d3-scale-chromatic</code></pre></div>
<pre><code>[K[?25h+ d3-scale-chromatic@1.3.30mâ¸© â  refresh-package-json:d3-scale-chromatic: [32;40mtiming[0m [35maction:f[0m[Km[K
added 3 packages from 1 contributor in 1.445s
</code></pre>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">topo2geo <span style="color:#000">tracts</span><span style="color:#ce5c00;font-weight:bold">=</span>- <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  &lt; vn-quantized-topo.json <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  <span style="color:#000;font-weight:bold">|</span> ndjson-map -r d3 -r <span style="color:#000">d3</span><span style="color:#ce5c00;font-weight:bold">=</span>d3-scale-chromatic <span style="color:#4e9a06">&#39;z = d3.scaleThreshold().domain([1, 50, 200, 500, 1000, 2000, 4000]).range(d3.schemeOrRd[8]), d.features.forEach(f =&gt; f.properties.fill = z(f.properties.density)), d&#39;</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  <span style="color:#000;font-weight:bold">|</span> ndjson-split <span style="color:#4e9a06">&#39;d.features&#39;</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  <span style="color:#000;font-weight:bold">|</span> geo2svg -n --stroke none -p <span style="color:#0000cf;font-weight:bold">1</span> -w <span style="color:#0000cf;font-weight:bold">800</span> -h <span style="color:#0000cf;font-weight:bold">800</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  &gt; vn-topo-threshold.svg</code></pre></div>
<p><img src="./vn-topo-threshold.svg" alt="vn-topo-threshold.svg" /></p>

<p>Thang mÃ u sá»­ dá»¥ng á»Ÿ Ä‘Ã¢y, <code>d3.schemeOrRd[8]</code>, lÃ  <a href="http://colorbrewer2.org/#type=sequential&amp;scheme=OrRd&amp;n=8">OrDr vá»›i 8 mÃ u</a>.</p>

<p>BÆ°á»›c cuá»‘i cÃ¹ng lÃ  thÃªm chÃº giáº£i cho cÃ¡c mÃ u Ä‘Æ°á»£c sá»­ dá»¥ng. ÄÃ¡ng tiáº¿c lÃ  chÃº giáº£i nÃ y Ä‘Æ°á»£c táº¡o ra báº±ng má»™t cÃ¡ch khÃ´ng Ä‘Æ°á»£c dá»… dÃ ng cho láº¯m, báº±ng <a href="https://gist.github.com/lebinh/65a3743f07bbefd8fb507b589541d39b">D3 trong browser</a> vÃ  copy output SVG vÃ o file báº£n Ä‘á»“.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">%%bash
<span style="color:#8f5902;font-style:italic"># bash is needed for &lt;() construct used below
</span><span style="color:#8f5902;font-style:italic"></span>
<span style="color:#204a87">export</span> <span style="color:#000">KEY_GIST_URL</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#39;https://gist.githubusercontent.com/lebinh/65a3743f07bbefd8fb507b589541d39b/raw/d77dcecda3ae59f020c2ac0351216aacbb26eb56/key.svg&#39;</span>
sed <span style="color:#4e9a06">&#39;s#&lt;/svg&gt;##&#39;</span> &lt; vn-topo-threshold.svg <span style="color:#000;font-weight:bold">|</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  cat - &lt;<span style="color:#ce5c00;font-weight:bold">(</span>curl -s <span style="color:#000">$KEY_GIST_URL</span><span style="color:#ce5c00;font-weight:bold">)</span> &lt;<span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87">echo</span> <span style="color:#4e9a06">&#39;&lt;/svg&gt;&#39;</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  &gt; vn-population-density.svg</code></pre></div>
<p><img src="./vn-population-density.svg" alt="vn-population-density.svg" /></p>

<p>Note nÃ y Ä‘áº¿n Ä‘Ã¢y lÃ  háº¿t nhÆ°ng Ä‘Ã¢y chÆ°a pháº£i lÃ  káº¿t quáº£ cuá»‘i cÃ¹ng. Váº«n cÃ²n quÃ¡ nhiá»u bÆ°á»›c vÃ  thao tÃ¡c chá»‰ Ä‘á»ƒ cÃ³ má»™t báº£n Ä‘á»“ Ä‘Æ¡n giáº£n nÃ y. ChÃºng ta cÃ³ thá»ƒ lÃ m tá»‘t hÆ¡n.</p>

<p>NhÆ°ng cÃ¡i Ä‘Ã³ hÃ£y Ä‘á»ƒ láº§n tá»›i ğŸ˜…</p>

</div>

  
<footer class='entry-footer'>
  <div class='container sep-before'>
  </div>
</footer>


</article>

<nav class='entry-nav'>
  <div class='container'><div class='prev-entry sep-before'>
      <a href='/posts/ping-1.1/'>
        <span aria-hidden='true'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="20" y1="12" x2="4" y2="12"/>
  <polyline points="10 18 4 12 10 6"/>
  
</svg>
 Previous</span>
        <span class='screen-reader-text'>Previous post: </span>ping 1.1 is the fastest ping</a>
    </div><div class='next-entry sep-before'>
      <a href='/posts/vietnam-choropleth-map-builder/'>
        <span class='screen-reader-text'>Next post: </span>Vietnam Choropleth Map Builder<span aria-hidden='true'>Next <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="4" y1="12" x2="20" y2="12"/>
  <polyline points="14 6 20 12 14 18"/>
  
</svg>
</span>
      </a>
    </div></div>
</nav>




      </main>

      <footer id='footer' class='footer'>
        <div class='container sep-before'><section class='widget widget-social_menu sep-after'><nav aria-label='Social Menu'>
    <ul><li>
        <a href='mailto:lebinh.it@gmail.com' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Contact via Email</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
  <polyline points="22,6 12,13 2,6"/>
  
</svg>
</a>
      </li><li>
        <a href='https://github.com/lebinh' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Github account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
  
</svg>
</a>
      </li><li>
        <a href='https://twitter.com/lebinh' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Twitter account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
  
</svg>
</a>
      </li><li>
        <a href='https://linkedin.com/in/lebinh' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Linkedin account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/>
  <rect x="2" y="9" width="4" height="12"/>
  <circle cx="4" cy="4" r="2"/>
  
</svg>
</a>
      </li></ul>
  </nav>
</section><div class='copyright'>
  <p> &copy; 2018 Binh Le </p>
</div>

        </div>
      </footer>

    </div>
  </div><script>window.__public_path__='\/assets\/js\/'</script>

<script src='/assets/js/main.59f76c44.js'></script>

</body>

</html>

